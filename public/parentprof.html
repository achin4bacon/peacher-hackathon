<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Peachers for Parents and Teachers!</title>



    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">

        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
            crossorigin="anonymous">
            <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
                crossorigin="anonymous"></script>

                <!-- Latest compiled and minified JavaScript -->
                <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
                    crossorigin="anonymous"></script>
                    <link rel="stylesheet" href="/styles.css">
                    <script src="/fejs.js"></script>


                    <style>
                        .cell {
                            display: table-cell;
/*                            border-right: 1px solid #000000;
                            border-bottom: 1px solid #000000;*/
                            width: 200px;
                            height: 30px;
                            overflow:hidden;
                        }
                        
                        .rows {
                            display: table-row;
                            clear: both;
                            overflow: hidden;
                        }
                        
                        .table {
                            display: table;
/*                            border-left: 1px solid #000000;
                            border-top: 1px solid #000000;*/
                            display: table;
                        }
                    </style>
</head>
<!--<div class="container">
  <!-- Topper w/ logo -->
<div class="row hidden-xs topper">
    <div class="col-xs-7 col-sm-7">
        <a href="/"><img am-TopLogo alt="SECUREVIEW" src=" /images/peachertrans.png" class="img-responsive"></a>
    </div>
    <div class="col-xs-5 col-xs-offset-1 col-sm-5 col-sm-offset-0 text-right ">
    </div>
</div>
<!-- End Topper -->
<!-- Navigation -->
<div class="row">
    <nav class="navbar navbar-default" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
                <a class="navbar-brand visible-xs-inline-block nav-logo" href="/"><img src="/images/peachertrans.png" class="img-responsive" alt=""></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav js-nav-add-active-class">
                    <li><a href="/index.html">Home</a></li>
                    <li class="active"><a href="/parentprof.html">Profile</a></li>
                    <li><a href="/class.html">Class</a></li>
                    <li><a href="/settings.html">Settings</a></li>
                </ul>
                </li>
                </ul>
                <ul class="nav navbar-nav navbar-right hidden-xs">
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
    </nav>
</div>
</div>



<body>
    <center>
        <div id='mainDiv' class='divvy'> </div>


        <center>
            <!--<img src="./images/peachertrans.png" width="75%" height="75%"><br>-->
            <img src="/images/peachErty.png" style="padding-top: 20px; width: 50%; height: relative; margin-left: ">
            <br>



        </center>
    <footer class="page-footer center-on-small-only primary-color-dark" id="footy">
        <div>
            <section id="contact" style="">
                <div class="container-fluid">
                    <div class="roe">
                        <div class="picture" style="margin-bottom: 20px" style="margin-left: 20px"><img src="/images/peachertrans.png" width="30%" height="30%" style="float: left"></div>
                        <div class="col-md-5" style="margin-bottom: 20px;">
                            <h1 style="color:#fff;">Have a comment? Please share!</h1><br><br>
                        </div>
                        <div class="roe">

                            <div class="col-md-8">
                                <form name="sentMessage" id="contactForm" novalidate="">
                                    <div class="roe">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <input type="text" class="inputmessage" placeholder="Your Name " id="name" required="" data-validation-required-message="Please enter your name.">
                                                <p class="help-block text-danger"></p>
                                            </div>
                                            <div class="form-group">
                                                <input type="email" class="inputmessage" placeholder="Your Email " id="email" required="" data-validation-required-message="Please enter your email address.">
                                                <p class="help-block text-danger"></p>
                                            </div>
                                            <div class="form-group">
                                                <input type="tel" class="inputmessage" placeholder="Your Phone " id="phone" required="" data-validation-required-message="Please enter your phone number.">
                                                <p class="help-block text-danger"></p>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <textarea class="inputmessage" placeholder="Your Message " id="message" required="" data-validation-required-message="Please enter a message."></textarea>
                                                <p class="help-block text-danger"></p>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="col-lg-12 text-center">
                                            <div id="success"></div>
                                            <a href="#" target="_blank" style="display:inline-block; background:blanchedalmond; color: peru; padding:5px 10px 5px 10px; margin:55px 0 0 0; text-decoration:none" class="submit" type="submit">Send email</a>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-4">
                                <p style="color:#fff;">
                                    <strong><i class="fa fa-map-marker"></i> Address</strong><br> 1600 Range St. Arapahoe
                                    Ave. Boulder, CO 80303
                                </p>
                                <p style="color:#fff;"><strong><i class="fa fa-phone"></i> Phone Number</strong><br> 1-800-CODECRAFT extension:
                                    ERTY</p>
                                <p style="color:#fff;">
                                    <strong><i class="fa fa-envelope"></i>  Email Address</strong><br> info@peacher.com
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            &copy; 2017 <i>Blanch√© d'Almond</i>
    </footer>
    <!--/.Footer-->
        <script>


            ////////
            ///TABLE///
            /////////]mesa

            function createGrid(x, y) 
            {
                var arrY = new Array(),
                    arrX,
                    container = $(".divvy");
                for (var iy = 0; iy < y; iy++) 
                {
                    arrX = new Array();
                    for (var ix = 0; ix < x; ix++) 
                    {
                        arrX[ix] = '<div class="cell" id="' + ix + "x" + iy + '"> &nbsp; </div>';
                    }
                    arrY[iy] = '<div class="rows">' + arrX.join("\r\n") + '</div>';
                }
                container.append(arrY.join("\r\n"));
            };
  
            function addAssGrid(data)
            {
                for (var a = 0; a < data.length; a++) 
                {               
                    $('#' + (a+2) + 'x0').html(data[a].assignmentName);  
                    $('#' + (a+2) + 'x0').addClass("bolded2")
                    $('#0x1').html(data[a].className); 
                    //$('#0x1').addClass("bolded2");  
                    $('#' + (a+2) + 'x1').html(data[a].students[0].grade);
                }
                computeStudentAvg(data);

            }

            function computeStudentAvg (data) 
            { 
                var collumns = data.length+2;

                for (var c = 1; c < collumns; c++)    
                {        
                    var avG = parseFloat($('#2x1').text());
                    console.log(avG)
                    if (collumns > 2)
                    {
                        for (var c = 3; c < collumns; c++) 
                        {
                            avG = avG + parseFloat($('#'+c+'x1').text());
                        }
                    }
                    console.log(avG)
                    $('#1x1').html(avG/(collumns-2));  
                }
            }



            $(document).ready(function () {
                $.get('/api/student', function (res) {
                    var data = JSON.parse(res);
                    // $('.divvy').append('<p>' + data[0]._id);
                    console.log(data);

                    $('.divvy').html('<p class="bolded2">' +data[0].students[0].studentName + '</p>');

                    createGrid(data.length+2, 2);
                    
                    $('#0x0').html("Class").addClass("bolded2");
                    $('#1x0').html("Overall Grade").addClass("bolded2");
                    
                    addAssGrid(data);
             
                });
            });
    </script>
</body>
</html>
